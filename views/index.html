{{define "index"}}
<!DOCTYPE html>
<html lang="en">
{{template "head" .}}
<body class="search-bg">
    {{template "nav" .User}}
    {{template "homepage_content" .Data}}
    {{template "footer"}}
</body>
</html>
{{end}}

{{define "homepage_content"}}
<main class="flex-1">
    <section class="w-full py-12 md:py-24 flex justify-center">
        <div class="container px-4 md:px-6 ">
            <div class="mx-auto max-w-xl space-y-4 text-center">
                <h1 class="text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl text-gray-50">
                    Discover and Share Links
                </h1>
                <p class="text-gray-400">Search for public links, save your private links, and share with your team.
                </p>
                <form
                    action="search"
                    method="get"
                    class="flex w-full max-w-2xl items-center rounded-md p-2 bg-gray-950 shadow-sm focus-within:ring-1 focus-within:ring-gray-400 focus-within:ring-offset-2 focus-within:ring-offset-gray-800">
                    <input
                        class="flex h-10 w-full rounded-md border-input text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm focus:ring-0 focus:outline-none file:font-medium placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50 flex-1 rounded-l-md border-0 py-2 px-4  bg-gray-950 text-gray-50"
                        placeholder="Search for links..."  
                        type="search" 
                        name="q"
                    />
                    <button
                        class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors disabled:pointer-events-none disabled:opacity-50 hover:bg-zinc-900 hover:text-white h-10 px-4 py-2 rounded-r-md text-gray-400 hover:bg-gray-200 hover:text-gray-950">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" class="h-5 w-5">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.3-4.3"></path>
                        </svg>
                    </button>
                </form>
            </div>
        </div>
    </section>
    <section class="w-full py-12 md:py-24 flex justify-center">

        <div class="container  px-4 md:px-6">
            <div class="flex items-center justify-between py-6">
                <h2 class="text-2xl font-bold text-gray-50">Top Links</h2>
            </div>
            <div class="space-y-6">
                <div class="grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-4">
                    {{range .TopLinks}}
                        {{template "search_card_small" . }}
                    {{end}}
                </div>
            </div>
        </div>
    </section>
    <section class="w-full bg-opacity-40 bg-zinc-900 py-12 flex justify-center">
        <div class="container px-4 md:px-6">
            <div class="space-y-6">
                <div class="flex items-center justify-between">
                    <h2 class="text-2xl font-bold text-gray-50">My Links</h2>
                    <a class="text-sm font-medium text-gray-400 hover:text-gray-50 hover:underline" href="/dashboard/links">
                        View all
                    </a>
                </div>
                <div class="grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-4">
                    {{range .MyLinks}}
                        {{template "search_card_small" . }}
                    {{end}}
                </div>
            </div>
        </div>
    </section>
</main>
{{end}}
